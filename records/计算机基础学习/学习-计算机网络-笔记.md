# 计算机网络
## 一、OSI模型
### 1. 物理层
实现相邻节点之间比特的传输

包含如下功能：
1. 需定义电路接口参数(如:形状、尺寸、引脚数等)
2. 需定义传输信号的含义、电气特征(如:5V表示1，1V表示0;每比特电信持续时间0.1ms)

### 2.链路层
确保相邻节点之间的链路逻辑上没有差错，以帧的形式进行传播

包含如下功能：

1. 差错控制：检错+纠错，或者检错+丢弃+重传
2. 流量控制：协调两个节点的速率


### 3. 网络层
把分组从源节点转发到目标节点，以分组Packet的形式进行传播

包含如下功能：
1. 路由选择：维护并构造路由表，决定分组到达目标节点的最佳路径
2. 分组转发：将“分组”从合适的端口转发出去
3. 拥塞控制：发现网络拥塞，并采取措施缓解拥塞
4. 网际互联：实现异构网络互联
5. 其他功能：差错控制，流量控制，连接建立和释放，可靠传输管理
   
### 4.传输层
实现端到端的通信，端指端口以报文段的形式进行传播

包含如下功能：
1. 复用和分用：发送端几个高层实体复用一条低层的额连接，在接收端进行分用
2. 其他功能：差错控制，流量控制，连接建立和释放，可靠传输管理

### 会话层，表示层，应用层
以报文的形式进行传播

会话层：管理进程之间的会话

表示层：解决不同主机信息表示不一致的问题

应用层：实现特定的网络应用

## 二、TCP/IP模型
### 1. 物理层

### 2. 数据链路层

整体思路如下：
![alt text](../../figs/image-network-datalinklayer.png)

#### 组帧

主要问题：

1. 帧定界
2. 透明传输

解决方法：

1. 字符计数法
2. 字节填充法：SOH和EOT
3. 零比特填充法：每次遇到5个1就填个0
4. 违规编码法：帧前后加违规的时钟信号

#### 差错控制
检错：
1. 奇数偶数校验法，增加校验位添加01（偶数校验用异或实现）
2. 循环冗余校验码
纠错：
海明码

#### 流量控制，可靠传输和滑动窗口
- 流量控制
1. 停止-等待协议：
   
发送窗口为1，接受窗口为1，接收方接收到第i个帧，检测没错要返回ACK，超时没有发送ACK，则重传，用1bit给帧编号

2. 后退N帧协议

发送窗口>1，接受窗口为1，接收方接收到第i个帧，检测没错要返回ACK，用Nbit给帧编号，接收方可以累积确认，连续收到多个数据帧，可以仅返回最后一个ACK，如果没有收到ACK，重传所有的帧